<table class="w-full border-2 border-separate border-spacing-0 rounded-sm border-sky-800">
  <thead [class.hidden]="isCards()">
    <tr>
      @for (column of columns(); track column.key) {
        <th scope="col"  class="p-2">
          @if (!column.unsortable) {
        <button class="cursor-pointer flex gap-1" (click)="updateSort(column)">
          <span>{{column.label}}</span>
          <span>
            <mec-hero-icon [icon]="columnicon(column.key)"></mec-hero-icon>
          </span>
        </button>
        } @else {
          <span>{{column.label}}</span>
        }
        </th>
      }
    </tr>
  </thead>
  <tbody>
  @for (row of displaydata(); track row[columns()[0].key];let isEven = $even) {
    <tr
      [class.bg-sky-100]="isEven"
      [class.bg-sky-200]="!isEven"
      [class.block]="isCards()"
      >
      @for (column of columns(); track column.key) {
        <td
          [attr.data-col]="column.label"
          class="px-2 py-1"
          [class.block]="isCards()"
          [class.before:content-[attr(data-col)]]="isCards()"
          [class.before:font-bold]="isCards()"
          [class.before:block]="isCards()"
          [class.text-right]="column.alignment === 'right' && !isCards()">{{row[column.key]}}</td>
      }
    </tr>
  }
  </tbody>
</table>
