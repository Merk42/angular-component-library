<style>
.carousel_pane::-webkit-scrollbar {
	display: none;
}
</style>

<div class="relative m-auto w-full"
  role="region"
  aria-roledescription="carousel"
  [attr.aria-label]="title()"
  [style.--numitems]="numAcrossOnScreen()"
  >
  <header class="text-center">
    {{title()}}
  </header>
	<main>

		<div class="carousel_pane overflow-auto w-full relative z-0 snap-x snap-mandatory" #pane (scroll)="scr($event)">
			<div
        class="flex flex-nowrap"
				[class.not-enough]="isPrevDisabled() && isNextDisabled()">
				<ng-content #carouselContents></ng-content>
			</div>
		</div>

	</main>
  <footer class="flex items-center gap-4 px-2">
    <button
      mec-button
      class="flex-none"
      (click)="goPrev()"
			[disabled]="isPrevDisabled()">
      <mec-hero-icon [icon]="'arrow-left'"/>
    </button>

    <ul class="flex-auto flex-wrap justify-center flex gap-x-2 gap-y-1">
      @for(P of pages(); track P.id) {
        <li>
          <button
            (click)="jumpToPage(P.id)"
            mec-button-small
            [class.bg-white]="!P.is_current"
            [class.rounded-lg]="!P.is_current"
            [class.bg-sky-100]="P.is_current"
            [class.rounded-full]="P.is_current"></button>
        </li>
      }
    </ul>
    <button
      mec-button
      class="flex-none"
      (click)="goNext()"
      [disabled]="isNextDisabled()">
      <mec-hero-icon [icon]="'arrow-right'"/>
    </button>
  </footer>
</div>
