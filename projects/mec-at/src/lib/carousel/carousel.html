<style>
.carousel_pane::-webkit-scrollbar {
	display: none;
}
.snap-1 ::ng-deep mec-carousel-content:nth-of-type(1n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
.snap-2 ::ng-deep mec-carousel-content:nth-of-type(2n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
.snap-3 ::ng-deep mec-carousel-content:nth-of-type(3n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
.snap-4 ::ng-deep mec-carousel-content:nth-of-type(4n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
.snap-5 ::ng-deep mec-carousel-content:nth-of-type(5n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
.snap-6 ::ng-deep mec-carousel-content:nth-of-type(6n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
.snap-7 ::ng-deep mec-carousel-content:nth-of-type(7n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
.snap-8 ::ng-deep mec-carousel-content:nth-of-type(8n + 1) {
  scroll-snap-stop: always;
  scroll-snap-align: start;
}
</style>

<div class="relative m-auto w-full"
  role="region"
  aria-roledescription="carousel"
  [attr.aria-label]="title()"
  [class]="'snap-' + numAcrossOnScreen()"
  [style.--numitems]="numAcrossOnScreen()"
  >
  <header class="text-center text-xl">
    {{title()}}
  </header>
	<main>

		<div class="carousel_pane overflow-auto w-full relative z-0 snap-x snap-mandatory flex flex-nowrap"
      [class.justify-center]="isPrevDisabled() && isNextDisabled()"
      #pane
      (scroll)="scr($event)">
      <ng-content #carouselContents></ng-content>
		</div>

	</main>
  @if (!isPrevDisabled() || !isNextDisabled()){
  <footer class="flex items-center gap-4 px-2">
    <button
      mec-button
      class="flex-none"
      (click)="goPrev()"
			[disabled]="isPrevDisabled()">
      <mec-hero-icon [icon]="'arrow-left'"/>
    </button>

    <ul class="flex-auto flex-wrap justify-center flex gap-x-2 gap-y-1">
      @for(P of pages(); track P.id) {
        <li>
          <button
            (click)="jumpToPage(P.id)"
            mec-button-small
            [disabled]="P.is_current"></button>
        </li>
      }
    </ul>
    <button
      mec-button
      class="flex-none"
      (click)="goNext()"
      [disabled]="isNextDisabled()">
      <mec-hero-icon [icon]="'arrow-right'"/>
    </button>
  </footer>
}
</div>
