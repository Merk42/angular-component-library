<label [htmlFor]="idfor()" class="flex font-bold w-full">
  <span class="w-[1ch]">@if(required()){*}</span>
  <span><ng-content /></span>
</label>
<input
  [id]="idfor()"
  type="range"
  [attr.list]="idfor() + '-options'"
  [max]="max()"
  [min]="min()"
  class="block border-2 w-full"
  [class.bg-rose-200]="displayState() === 'error'"
  [class.border-rose-800]="displayState() === 'error'"
  [class.bg-neutral-300]="displayState() === 'disabled'"
  [class.border-neutral-600]="displayState() === 'disabled'"
  [class.bg-neutral-100]="displayState() === 'readonly'"
  [class.border-transparent]="displayState() === 'readonly'"
  [value]="value()"
  (input)="update($event)"
  [disabled]="disabled()"
  [readOnly]="readonly()"
  (blur)="touched.set(true)"
  />
  @if (rangeList()) {
    <datalist class="relative block" [id]="idfor() + '-options'">
      @for (option of rangeList(); track option.value) {
        <option
          [style.left]="option.left + '%'"
          class="absolute -translate-x-1/2 text-sm"
          [value]="option.value"
          [label]="option.label">
        </option>
      }
    </datalist>
  }

@if (displayState() !== 'error' && !rangeList()) {
  <mec-form-notes
    [min]="min()"
    [max]="max()">
    <ng-content select="[notes]" />
  </mec-form-notes>
}

@if (displayState() === 'error') {
  <mec-form-error
    role="alert"
    [errors]="errors()"
    [min]="min()"
    [max]="max()"
    />
}
